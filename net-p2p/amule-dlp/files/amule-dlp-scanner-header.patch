diff -r 6a02537526db src/Makefile.am
--- a/src/Makefile.am	Sun Dec 04 22:02:03 2011 +0800
+++ b/src/Makefile.am	Mon Feb 06 23:41:12 2012 +0800
@@ -465,8 +465,8 @@
 	bison --debug -t -d -v -o $@ $(srcdir)/Parser.y
 
 if GENERATE_FLEX_HEADER
-$(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
-		$(LEX) --header-file=$(srcdir)/Scanner.h -o $@ $(srcdir)/Scanner.l
+$(srcdir)/Scanner.h $(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
+		$(LEX) --header-file=$(srcdir)/Scanner.h -o $(srcdir)/Scanner.cpp $(srcdir)/Scanner.l
 else
 $(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
 		$(LEX) -o $@ $(srcdir)/Scanner.l; \
diff -r 6a02537526db src/Makefile.in
--- a/src/Makefile.in	Sun Dec 04 22:02:03 2011 +0800
+++ b/src/Makefile.in	Mon Feb 06 23:41:12 2012 +0800
@@ -5721,8 +5721,8 @@
 $(srcdir)/Parser.cpp: Parser.y
 	bison --debug -t -d -v -o $@ $(srcdir)/Parser.y
 
-@GENERATE_FLEX_HEADER_TRUE@$(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
-@GENERATE_FLEX_HEADER_TRUE@		$(LEX) --header-file=$(srcdir)/Scanner.h -o $@ $(srcdir)/Scanner.l
+@GENERATE_FLEX_HEADER_TRUE@$(srcdir)/Scanner.h $(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
+@GENERATE_FLEX_HEADER_TRUE@		$(LEX) --header-file=$(srcdir)/Scanner.h -o $(srcdir)/Scanner.cpp $(srcdir)/Scanner.l
 @GENERATE_FLEX_HEADER_FALSE@$(srcdir)/Scanner.cpp: Scanner.l Parser.cpp
 @GENERATE_FLEX_HEADER_FALSE@		$(LEX) -o $@ $(srcdir)/Scanner.l; \
 @GENERATE_FLEX_HEADER_FALSE@		echo "// Empty file generated by a flex version unable to create headers" > $(srcdir)/Scanner.h
